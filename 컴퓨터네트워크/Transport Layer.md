# Transport Layer

[TOC]

서버 쪽 TCP와 클라이언트 쪽 TCP가 어떻게 생겼는지에 관심있음. 

## Multiplexing

 상대 머신에 도착했을 때, 이게 어느 곳으로 갈지 알려주는 것. 멀티플렉싱은 여러 갈래에서 오는 애를 하나의 통로로 보내는 것. 보내는 쪽에서 일어난다. 디멀티플렉싱은 받는 쪽에서 일어난다. 이를 가능하게 하는 것은 포트번호이다. 

 프로세스와 프로세스간의 커뮤니케이션. 맞는 말이지만 더 자세히 말하자면, 특정 소켓과 특정 소켓 사이의 커뮤니케이션. 한 프로세스가 소켓 하나만 가지고 있는 것은 아니다. 여러 개 만들면 여러 개 생기는 것. 그렇기 때문에 특정 소켓과 특정 소켓 간의 커뮤니케이션이라고 보는 것이 더 정확하다. 

 포트 번호를 가지고 디멀티플렉싱한다. 구글의 웹 서버 프로세스를 예로 들자. 2명의 유저는 구글로 갈 때 포트번호 80으로 갈 것이다. 그러면 막히는 거 아니냐. 그래서 포트번호로만은 디멀티플렉싱이 안된다. 내 소켓과 구글의 소켓은 전 세계에 유니크하다. 이 페어가 어떻게 유니크 하냐. src ip, port, dst ip, port 이 네 가지를 가지고 있어서 유니크 하다.

